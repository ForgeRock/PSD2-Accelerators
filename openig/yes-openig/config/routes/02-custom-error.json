{
  "properties" : {
    "prop" : {
      "$location" : "${fileToUrl(openig.configDirectory)}/env.json"
    }
  },
  "name" : "02 custom error (max age)",
  "baseURI" : "${prop.openamUrl}",
  "condition" : "${(matches(request.uri.query, 'verified_person_data') and matches(request.uri.path,'authorize')) or matches(request.uri.path,'oauth2')}",
  "handler" : {
    "type" : "Chain",
    "config" : {
      "filters" : [ {
        "name" : "ScriptableFilter-checkMaxAge",
        "type" : "ScriptableFilter",
        "config" : {
          "type" : "application/x-groovy",
          "file" : "checkMaxAge.groovy",
          "args" : {
            "error" : "unable_to_meet_requirement",
            "description" : "Unable to refresh the user's verification"
          }
        }
      } ],
      "handler" : "ReverseProxyHandler"
    }
  }
}